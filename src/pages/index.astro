---
import Layout from '../layouts/Layout.astro';
import CTA from '../components/CTA.astro';
import {
  siteData,
  capabilityHighlights,
  industries,
  processSteps,
  testimonials,
  faqs,
} from '../data/siteData';

const heroHighlights = [
  {
    title: 'ISO 17025 quality alignment',
    detail: 'Method controls and verification checkpoints built into every program.',
    icon: 'ri-shield-check-line',
  },
  {
    title: 'Compendial method coverage',
    detail: 'Validated USP and related methods for chemistry and microbiology workflows.',
    icon: 'ri-flask-line',
  },
  {
    title: 'End-to-end support',
    detail: 'From feasibility through launch with clear documentation and communication.',
    icon: 'ri-route-line',
  },
];
---

<Layout title={`${siteData.name} - ${siteData.tagline}`} description={siteData.description}>
  <section class="home-hero">
    <div class="home-shell">
      <div class="hero-grid">
        <div class="hero-copy">
          <p class="hero-eyebrow">ISO 17025 Accredited Laboratory</p>
          <h1>Precision analytical testing and R&D for regulated products.</h1>
          <p class="hero-lead">
            Based in the DFW metroplex, BioChroma Analytical Labs provides specialized chemistry, microbiology, and consulting services. We deliver defensible data to guide cosmetics, supplements, and OTCs from early feasibility through market-ready execution.
          </p>
          <div class="hero-cta-row">
            <a class="btn-primary" href="/contact">Request a quote <i class="ri-arrow-right-up-line"></i></a>
            <a class="btn-secondary" href="/capabilities">View capabilities <i class="ri-arrow-right-line"></i></a>
          </div>
        </div>

        <aside class="hero-media-frame" aria-label="BioChroma Analytical Labs Facility">
          <img
            src="/images/hero-lab.jpg"
            alt="BioChroma Analytical Labs testing facility and scientific equipment"
            loading="eager"
          />
          <div class="hero-media-caption">
            <p>DFW Metroplex Facility</p>
            <span>Equipped for compendial testing, custom method development, and rigorous QA review.</span>
          </div>
        </aside>
      </div>

      <div class="hero-highlight-row">
        {heroHighlights.map((item) => (
          <article class="hero-highlight-card">
            <i class={`${item.icon} hero-highlight-icon`}></i>
            <h2>{item.title}</h2>
            <p>{item.detail}</p>
          </article>
        ))}
      </div>
    </div>
  </section>

  <section class="home-section capabilities-section">
    <div class="home-shell">
      <div class="section-heading">
        <p>Capabilities</p>
        <h2>Six capability areas supporting quality from concept to scale.</h2>
      </div>

      <div class="capability-layout">
        {capabilityHighlights.map((capability, index) => (
          <article class={`capability-card ${index === 0 ? 'capability-card-featured' : ''}`}>
            <div class="capability-head">
              <span class="capability-icon"><i class={capability.icon}></i></span>
              <span class="capability-label">Capability</span>
            </div>
            <h3>{capability.title}</h3>
            <p>{capability.description}</p>
            <ul>
              {capability.bullets.map((bullet) => (
                <li>{bullet}</li>
              ))}
            </ul>
          </article>
        ))}
      </div>
    </div>
  </section>

  <section class="home-section support-section">
    <div class="home-shell support-layout">
      <div class="section-heading">
        <p>Who we support</p>
        <h2>Programs tuned to the teams that move regulated science forward.</h2>
      </div>
      <div class="support-pills">
        {industries.map((industry, index) => (
          <a href="/capabilities" class={`support-pill ${index % 2 === 0 ? 'support-pill-alt' : ''}`}>
            <span>{industry}</span>
            <i class="ri-arrow-right-up-line"></i>
          </a>
        ))}
      </div>
    </div>
  </section>

  <section class="home-section process-section">
    <div class="home-shell">
      <div class="section-heading section-heading-center">
        <p>Process</p>
        <h2>From discovery to launch with clear stage gates and transparent reporting.</h2>
      </div>

      <div class="process-timeline">
        {processSteps.map((step, index) => (
          <article class={`process-item ${index % 2 === 0 ? 'process-left' : 'process-right'}`}>
            <div class="process-marker" aria-hidden="true">
              <span>{index + 1}</span>
            </div>
            <div class="process-content">
              <h3>{step.title}</h3>
              <p>{step.description}</p>
            </div>
          </article>
        ))}
      </div>
    </div>
  </section>

  <section class="home-section testimonials-section">
    <div class="home-shell">
      <div class="section-heading">
        <p>Client feedback</p>
        <h2>Trusted by quality and regulatory leaders.</h2>
      </div>
      <div class="testimonial-row">
        {testimonials.map((item) => (
          <article class="testimonial-card">
            <p>“{item.content}”</p>
            <div>
              <h3>{item.name}</h3>
              <span>{item.role}</span>
            </div>
          </article>
        ))}
      </div>
    </div>
  </section>

  <section class="home-section faq-section">
    <div class="home-shell faq-layout">
      <div class="section-heading">
        <p>FAQ</p>
        <h2>Quick answers about BioChroma Analytical Labs.</h2>
      </div>

      <div class="faq-stack">
        {faqs.map((item) => (
          <details class="faq-item">
            <summary>
              <span>{item.question}</span>
              <i class="ri-add-line"></i>
            </summary>
            <p>{item.answer}</p>
          </details>
        ))}
      </div>
    </div>
  </section>

  <section class="home-section">
    <div class="home-shell">
      <CTA
        title="Ready to scope your program?"
        description="Share sample scope, timelines, and regulatory context. We will return a scoped plan with clear next steps."
        primaryLabel="Request a quote"
        primaryHref="/contact"
        secondaryLabel="Review capabilities"
        secondaryHref="/capabilities"
      />
    </div>
  </section>
</Layout>

<style>
  .capability-card ul {
    display: flex;
    flex-wrap: wrap;
    gap: 0.5rem;
    list-style: none;
    padding: 0;
  }

  .capability-card li {
    background: rgba(255, 255, 255, 0.05);
    padding: 0.25rem 0.75rem;
    border-radius: 999px;
    font-size: 0.875rem;
  }

  @media (max-width: 768px) {
    .process-timeline {
      display: flex;
      flex-direction: column;
      gap: 1rem;
    }

    .process-item,
    .process-item.process-left,
    .process-item.process-right {
      width: 100%;
      margin: 0;
      padding-left: 3rem;
      padding-right: 0;
      justify-content: flex-start;
      text-align: left;
    }

    .process-item .process-marker {
      left: 0;
      right: auto;
      transform: none;
    }
  }
</style>