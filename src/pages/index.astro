---
import { Image } from 'astro:assets';
import Layout from '../layouts/Layout.astro';
import CTA from '../components/CTA.astro';
import FAQ from '../components/FAQ.astro';
import { pageCopy, pageData, site } from '../data/content';
import indexHero from '../assets/index-hero.jpg';

const copy = pageCopy.home;
const data = pageData.home;
---

<Layout title={copy.frontmatter.layoutTitle} description={site.description}>
  <section class="home-hero">
    <div class="home-shell">
      <div class="hero-grid mb-16">
        <div class="hero-copy reveal-up">
          <p class="hero-eyebrow">{copy.frontmatter.heroEyebrow}</p>
          <h1>{copy.frontmatter.heroTitle}</h1>
          <p class="hero-lead">{copy.frontmatter.heroLead}</p>
          <div class="hero-cta-row mt-6">
            <a class="btn-primary" href={copy.frontmatter.ctaPrimaryHref}>{copy.frontmatter.ctaPrimaryLabel} <i class="ri-arrow-right-up-line"></i></a>
            <a class="btn-secondary" href={copy.frontmatter.ctaSecondaryHref}>{copy.frontmatter.ctaSecondaryLabel} <i class="ri-arrow-right-line"></i></a>
          </div>
        </div>
        <aside class="hero-media-frame reveal-scale" style="transition-delay: 200ms;" aria-label="Laboratory Facility">
          <Image src={indexHero} alt="BioChroma Analytical testing equipment" loading="eager" class="w-full h-full object-cover rounded-2xl" />
          <div class="hero-media-caption">
            <p>{copy.frontmatter.heroMediaTitle}</p>
            <span>{copy.frontmatter.heroMediaText}</span>
          </div>
        </aside>
      </div>
    </div>
  </section>

  <section class="home-section border-t border-white/5"><div class="home-shell prose prose-invert max-w-4xl"><copy.Content /></div></section>

  <section class="home-section border-t border-white/5">
    <div class="home-shell">
      <div class="section-heading reveal-up">
        <p>{copy.frontmatter.sectionCapabilitiesTitle}</p>
        <h2>{copy.frontmatter.sectionCapabilitiesLead}</h2>
      </div>
      <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8 mt-12">
        {data.capabilityHighlights.map((capability, index) => (
          <a href={`/capabilities#${capability.targetId ?? capability.id}`} class="group block bg-white/5 border border-white/10 p-8 rounded-xl flex flex-col transition-all duration-300 hover:-translate-y-1 hover:border-emerald-400/30 hover:bg-emerald-400/5 hover:shadow-[0_10px_30px_-10px_rgba(36,199,143,0.15)] reveal-up" style={`transition-delay: ${index * 100}ms;`}>
            <h3 class="text-xl font-bold text-white mb-2">{capability.title}</h3>
            <p class="text-slate-300 text-sm leading-relaxed flex-grow">{capability.description}</p>
          </a>
        ))}
      </div>
    </div>
  </section>

  <FAQ title={copy.frontmatter.sectionFaqTitle} lead={copy.frontmatter.sectionFaqLead} items={data.faqs} />


  <section class="home-section border-t border-white/5"><div class="home-shell"><CTA title={copy.frontmatter.ctaTitle} description={copy.frontmatter.ctaDescription} primaryLabel={copy.frontmatter.ctaPrimaryLabel} primaryHref={copy.frontmatter.ctaPrimaryHref} secondaryLabel={copy.frontmatter.ctaSecondaryLabel} secondaryHref={copy.frontmatter.ctaSecondaryHref} /></div></section>
</Layout>
